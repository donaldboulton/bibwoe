<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.10.0 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Letter Avatar - Bibwoe</title>
<meta name="description" content="Many of us got really tired of the Gravatar Service being down or slow and having multiple server calls to download the Gravatar. Alot of people do not even know about gravatar and your get a generic image for the User Avatar.">


  <meta name="author" content="Donald Boulton">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Bibwoe">
<meta property="og:title" content="Letter Avatar">
<meta property="og:url" content="http://localhost:4000/2018-02-22-post-Letter-Avatar/">


  <meta property="og:description" content="Many of us got really tired of the Gravatar Service being down or slow and having multiple server calls to download the Gravatar. Alot of people do not even know about gravatar and your get a generic image for the User Avatar.">



  <meta property="og:image" content="http://localhost:4000/assets/images/pages/letter-avatar-header.png">



  <meta name="twitter:site" content="@donboulton">
  <meta name="twitter:title" content="Letter Avatar">
  <meta name="twitter:description" content="Many of us got really tired of the Gravatar Service being down or slow and having multiple server calls to download the Gravatar. Alot of people do not even know about gravatar and your get a generic image for the User Avatar.">
  <meta name="twitter:url" content="http://localhost:4000/2018-02-22-post-Letter-Avatar/">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="http://localhost:4000/assets/images/pages/letter-avatar-header.png">
  

  
    <meta name="twitter:creator" content="@donboulton">
  



  <meta property="article:published_time" content="2018-02-22T17:16:01-05:00">



  <meta property="article:modified_time" content="2018-02-28T11:42:38-05:00">



  

  


<link rel="canonical" href="http://localhost:4000/2018-02-22-post-Letter-Avatar/">





  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://localhost:4000/",
      "logo": "http://localhost:4000/favicon.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Donald W. Boulton",
      "url": "http://localhost:4000/",
      "sameAs": ["https://twitter.com/donboulton","https://facebook.com/donboulton"]
    }
  </script>



  <meta name="google-site-verification" content="rXkolEOR2tQie0oZad3iu_XX0ID673ocd2nc5qKBAFI" />


  <meta name="msvalidate.01" content="361016BEC0F67F6A834D6186E897D9EC">




<!-- end _includes/seo.html -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Bibwoe Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" Content="index, follow, archive">
<meta name="revisit-after" Content="3 days">
<meta name="apple-mobile-web-app-capable" Content="yes">
<meta name="expires" Content="Mon, 06 Jan 2020 21:31:12 GMT">
<meta name="author" Content="Donald Boulton">
<meta name="fb:app_id" Content="322180367845124">
<meta name="twitter:thumbnailUrl" Content="/assets/images/donald-boulton_100.jpg">
<meta name="twitter:id" Content="105217183">
<meta name="twitter:creator:id" Content="105217183">
<meta name="twitter:widgets:theme" Content="dark">
<meta name="twitter:widgets:link-color" Content=" #71ba70">
<meta name="twitter:widgets:border-color" Content="#282A2B">
<meta name="name" Content="Donald Boulton">
<meta name="InLanguage" Content="en-US">
<meta name="google-signin-clientid" Content="857761645811-u1iefg2lorg7aqoiat9vkn1d146n8lkp.apps.googleusercontent.com">
<meta name="google-signin-scope" Content="https://www.googleapis.com/auth/plus.login">
<meta name="google-signin-requestvisibleactions" Content="http://schema.org/AddAction">
<meta name="google-signin-cookiepolicy" Content="single_host_origin">
<meta name="specificfeeds-verification-code" content="w48MyShCerwN6kA3DklR" />
<meta name="theme-color" content="#212529">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/images/icons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/assets/images/icons/favicon.png" sizes="32x32">
<link rel="shortcut icon" type="image/png" href="//favicon.png">
<link rel='shortcut icon' type='image/png' href='/assets/images/icons/favicon.png' />
<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.7/css/all.css" />
<link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-30162465-2');
</script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30162465-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<script type="application/ld+json">
  [{"@context":"http://schema.org","@type":"WebSite","url":"https://bibwoe.com/","potentialAction":{"@type":"SearchAction","target":"https://query.bibwoe.com/search?q={q}","query-input":"required name=q"}},{"@context":"http://schema.org","@type":"SoftwareApplication","name":"Donald Boulton","operatingSystem":"Jekyll","applicationCategory":"http://schema.org/WebApplication","aggregateRating":{"@type":"AggregateRating","ratingValue":"4.6","ratingCount":"8864"},"offers":{"@type":"Offer","price":"1.00","priceCurrency":"USD"}}]
</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script>
  window.addEventListener("load", function () {
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#3c404d",
          "text": "#d6d6d6"
        },
        "button": {
          "background": "#8bed4f"
        }
      },
      "theme": "edgeless",
      "position": "bottom-left",
      "content": {
        "href": "https://donaldboulton.github.io/bibwoe/terms/#cookies-and-web-beacons"
      }
    })
  });
  var slider = new IdealImageSlider.Slider('#slider');
  slider.addThumbNav();
  slider.start()
</script>
<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->

  
    
<script src="https://www.googletagmanager.com/gtag/js?id=UA-30162465-2"></script>
  



  <!-- start custom head snippets -->
<!-- insert favicons. use http://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="114x114" href="/assets/images/fav-icons/touch-icon-iphone-retina-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/images/fav-icons/touch-icon-ipad-retina-152x152.png">
<link rel="apple-touch-icon" sizes="57x57" href="/assets/images/fav-icons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/images/fav-icons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/images/fav-icons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/images/fav-icons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/images/fav-icons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/images/fav-icons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/images/fav-icons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/images/fav-icons/apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="/assets/images/fav-icons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/assets/images/fav-icons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/assets/images/fav-icons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/assets/images/fav-icons/android-chrome-192x192.png" sizes="192x192">
<meta name="msapplication-square70x70logo" content="/assets/images/fav-icons/smalltile.png" />
<meta name="msapplication-square150x150logo" content="/assets/images/fav-icons/mediumtile.png" />
<meta name="msapplication-wide310x150logo" content="/assets/images/fav-icons/widetile.png" />
<meta name="msapplication-square310x310logo" content="/assets/images/fav-icons/largetile.png" />
<meta name="msapplication-TileColor" content="#b91d47">

<!-- end custom head snippets -->
</head>

<body id="style-3" class="layout--single">

  <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

  <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <span class="site-title">
          <a href="/">         
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 25 25" height="25" width="25" id="svg815" version="1.1" class="site-logo">
                <image y="0" x="0" id="image823" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABGdBTUEAALGPC/xhBQAAAAlwSFlz AAAOwgAADsIBFShKgAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4yMfEgaZUAAAXFSURB VEhLnZZpUFNXGIZd6tg6o45/qqO1ouPeBQWSQEjUKlNpESwqVXFUihETXHCm1YrLKJYqKK4Fq7jg uGC1loIYgYjIEpYkQAhExSgBJJBEIIQKiLnL2xN6f9QOKPaZOX/uPd/73u98537nDOgLHk8y1Zu3 4ZBIINN482VKT4/1Ps7nAN67dz/v+B8pqdnJyckxcrl8/osXL0b3BPUXd/ewYUKB9IBYEN65YlkU HXcshd6yNYEmZg1zJ6x9n2XZoXcyFDlxR46yq1evZmThss74+Pg/nzU1+ZIPGMTJ9I3os+BRYr4s 23fB98yZC5nU2UvZtL6+hb18I48R88Nt7u6LhpnN5k9K1Bp9zv08kGwQn5CA8+fPw/r8ub6zs5PH SfUOyWCIiC+TL/bfxVy9WUAF+O2kQ0Ji6drWTjb9rpYWe26k5ghkS8rKtJvUmrJuZVEJyrU6GJ48 hcnU6LDZbOdIJiM5ud7x9gjzn+e9hc7TGOiQtbHUwUPXiUEXa+0GLC9ZREVfpfy+3GZWKlUKTWk5 iopV0FXqUVtXD7u9va69vX0KJ9U3Ip5s15LFe+ia5g6mof1Vj/i/h7G5g/1x+2kmv6CEdhqoNaV4 VP0YZouVabXZLpBafcBJ9Y2nW4gbKXbrPNEW5sjJVPq/JlaSje6RkVVrylFIlkpbocPTGiOIQVer 3e4s+kBO6s14uq4ZJ+JL935Bli1HZXjNyNzhQKW+GsUl6p5RpX+IxsYmNLe0KFtbW8dzEv0laDAx Sglauo+ped7BthCDvxyAqa0DpeUVJAsVnDV5bHgKq8XC2O32SJLFEC64/wgE60aTLWuSSOJohfIh bet0sNVPjFBpylBI6lGhq0JtbgEa7hdYbV1dYi7s3fFyW+9HakSJBOH0gYNXaHWpFkW5+ShKS4cu OgYNa9ZBnpxBLV8auYAL+V8M9OZLE8TCzUxUYiadf+M67iwORM7kGaicMAW1kfsQHZXEiAWyx3z+ qhFczLsjnBY6/Bu/HQ8uJVxk74YFI328CwrHTcSTGa7QZirZVbEZlN9XOxjyMYlkev92V2/8npIt zYj9Cbe8PKD4eBLKxrmgfu16nC1vQd5zICe/kpnjtYny5EkCuZB3g+yaYZp7WccVERKkukxEwfSZ MLi7w3ztJjaoKdxuArppFj/H/EaTZWsUzg4dy4X2H53ROE15JcmQFeyPHE8eSsZOQJ3P16hS6XHc AAQogT16Fsvzuljxoihnp04NCgoazIW/HZLFYH1paUju4f1UdqAPSnzmomKsC8y7o3D6QSeSaoHI KuDbYkDdwmCn/Ak9R7iZFvKkMk7i7RgMhhEqRebdLMlyNtP1cyjHT4LBlQfdqYtYK29kIiuBy/XA Vi1wq5HFDzoWi/bLHSSbNv6s72ZyMm+mwWgU5J1LaE4TuiGDZKD5aCJMS1ciJemW3Scwml6o6GAT ngIXSEZr1GSogNDiV+zCVUco0jEKJ0/ePJST6p29ezFIq9Ecz4oIdaRNnYr7ZEc9/HQWLNExNlX5 oy3OU3J+xBVqQykLhYXFr8QsrBSQlgHrM830XFEE682TBnNyveNseIU3r5XJAxbgNjEoIv+GkeeN tjJtIWnpH4p40kVzPDc6lp0tp5TNLAqageiHQEQFsI0so+/qYw7nj8zJ9U5Nvck/N26/Jc3dFQpi oiUmjRJZd5vZGs21dNINNpya67OdkdxrpZ21uVgHUhdgJ9kMvisOOUgmR/9R64M6k2VBceIJk3zm TOSNGY/qSdNhS01vamtrc+OmDBAKQ4eTf0PvGxpPnXzwkj1TA+wiBtJrVQ6x5ybKiy+Zz03tHXJe j6zWqBM1u/d0VyxbyZgOH+1uMRrjnDcVbkoPXh6hs0m3ts7330cH7bxOBcjOUGJyFpFt/Aup7Ntv LlZrx5h6/aOQ+pKSOEvts2A7MIp79Rp8vmQiuZedIFkpneeQFz8syHkmca8JAwb8DZs2xsghGnJK AAAAAElFTkSuQmCC " style="image-rendering:optimizeQuality" preserveAspectRatio="none" height="25" width="25" />
              </svg></a>
          <span><a class="site-title" href="http://localhost:4000/">Bibwoe</a></span></span>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000//about/" >About</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000//categories/#posts" >Posts</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000//sitemap/" >Sitemap</a>
            </li>
          
        </ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

  <div class="initial-content">
    
  











<div class="page__hero"
  style=" "
>
  
    <img src="http://localhost:4000/assets/images/pages/letter-avatar-header.png" alt="Letter Avatar" class="page__hero-image">
  
  
</div>





<div id="main" role="main">
  
  <div id="style-3" class="sidebar sticky">
  


<div itemscope itemtype="http://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="http://localhost:4000/assets/images/pages/donald-boulton-100.jpg" alt="Donald Boulton" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Donald Boulton</h3>
    
    
      <p class="author__bio" itemprop="description">
        Work Full Time for Father God.
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--info">Follow</button>
    <ul class="author__urls social-icons">
      

      
        <li>
          <a href="http://donboulton.com" itemprop="url" target="_blank">
            <svg class="icon icon--link fa-link" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-link"></use></svg> Website
          </a>
        </li>
      

      
        <li>
          <a href="mailto:bibwoe@gmail.com">
            <meta itemprop="email" content="bibwoe@gmail.com" />
            <svg class="icon icon--email fa-email" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-email"></use></svg> Email
          </a>
        </li>
      

      

      
        <li>
          <a href="https://twitter.com/intent/tweet?via=donboulton&text=Letter+Avatar%20http%3A%2F%2Flocalhost%3A4000%2F2018-02-22-post-Letter-Avatar%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter">
            <svg class="icon icon--twitter fa-twitter" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-twitter"></use></svg> <span> Twitter</span></a>
        </li>
      

      

      
        <li>
          <a href="https://plus.google.com/share?url=http%3A%2F%2Flocalhost%3A4000%2F2018-02-22-post-Letter-Avatar%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Google Plus">
            <svg class="icon icon--google-plus fa-google-plus" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-google-plus"></use></svg> Google+
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Letter Avatar">
    <meta itemprop="description" content="Many of us got really tired of the Gravatar Service being down or slow and having multiple server calls to download the Gravatar. Alot of people do not even know about gravatar and your get a generic image for the User Avatar.">
    <meta itemprop="datePublished" content="February 22, 2018">
    <meta itemprop="dateModified" content="February 28, 2018">

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Letter Avatar
</h1>
          
            <p class="page__meta"><svg class="icon icon--clock" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-clock"></use></svg> 




  3 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right">
            <nav class="toc">
              <header><h4 class="nav__title"><svg class="icon icon--file" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-file"></use></svg> Page Contents</h4></header>
              <ul class="toc__menu">
  <li><a href="#letter-avatar">Letter Avatar</a>
    <ul>
      <li><a href="#gihub-code-as-a-gihub-gist-by-lee-crossly">Gihub code as a Gihub Gist, by Lee Crossly</a></li>
      <li><a href="#the-canvas-html-snippet">The Canvas html snippet.</a></li>
      <li><a href="#the-code-before-conversion">The Code before conversion</a></li>
    </ul>
  </li>
  <li><a href="#mvc-implimentation">MVC Implimentation</a>
    <ul>
      <li><a href="#image-tag-changes-for-mvc">Image tag changes for MVC</a></li>
      <li><a href="#my-script-changes-for-mvc">My Script Changes for MVC</a></li>
    </ul>
  </li>
  <li><a href="#liquid-conversion">Liquid Conversion</a>
    <ul>
      <li><a href="#image-changes">Image changes</a></li>
      <li><a href="#add-avatarjs">Add avatar.js</a></li>
      <li><a href="#adding-scripts-site-wide-in-_configyaml">Adding Scripts Site wide in _config.yaml</a></li>
    </ul>
  </li>
  <li><a href="#pre-implementation-comments">Pre implementation comments.</a></li>
</ul>
            </nav>
          </aside>
        
        <div>
  <a href="http://github.com/donaldboulton/bibwoe/" class="github-corner image-popup" target="_blank">
      <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#1faaaa; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>
 </a>
</div>

<h2 id="letter-avatar">Letter Avatar</h2>

<p>How to easily create Letter Avatars for your comments in Minimal Mistakes. This coversion is a work in progress as I am just learning liquid.</p>

<h3 id="gihub-code-as-a-gihub-gist-by-lee-crossly">Gihub code as a Gihub Gist, by <a href="https://gist.github.com/leecrossley/6027780">Lee Crossly</a></h3>

<p>Avatar Generator from - Commenter name as - (first name and surname) as input and a canvas element as output using the initials from the name and a background colour (based on the first name &amp; surname first letter).</p>

<p>The background colours are from from <a href="http://flatuicolors.com/">Flat Ui Colors</a> Now with retina support.</p>

<h3 id="the-canvas-html-snippet">The Canvas html snippet.</h3>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"user-icon"</span> <span class="na">width=</span><span class="s">"60"</span> <span class="na">height=</span><span class="s">"60"</span><span class="nt">&gt;&lt;/canvas&gt;</span>
</code></pre></div></div>

<h3 id="the-code-before-conversion">The Code before conversion</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colours</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"#1abc9c"</span><span class="p">,</span> <span class="s2">"#2ecc71"</span><span class="p">,</span> <span class="s2">"#3498db"</span><span class="p">,</span> <span class="s2">"#9b59b6"</span><span class="p">,</span> <span class="s2">"#34495e"</span><span class="p">,</span> <span class="s2">"#16a085"</span><span class="p">,</span> <span class="s2">"#27ae60"</span><span class="p">,</span> <span class="s2">"#2980b9"</span><span class="p">,</span> <span class="s2">"#8e44ad"</span><span class="p">,</span> <span class="s2">"#2c3e50"</span><span class="p">,</span> <span class="s2">"#f1c40f"</span><span class="p">,</span> <span class="s2">"#e67e22"</span><span class="p">,</span> <span class="s2">"#e74c3c"</span><span class="p">,</span> <span class="s2">"#ecf0f1"</span><span class="p">,</span> <span class="s2">"#95a5a6"</span><span class="p">,</span> <span class="s2">"#f39c12"</span><span class="p">,</span> <span class="s2">"#d35400"</span><span class="p">,</span> <span class="s2">"#c0392b"</span><span class="p">,</span> <span class="s2">"#bdc3c7"</span><span class="p">,</span> <span class="s2">"#7f8c8d"</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"Lee Crossley"</span><span class="p">,</span>
    <span class="nx">nameSplit</span> <span class="o">=</span> <span class="nx">name</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">" "</span><span class="p">),</span>
    <span class="nx">initials</span> <span class="o">=</span> <span class="nx">nameSplit</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">+</span> <span class="nx">nameSplit</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">charIndex</span> <span class="o">=</span> <span class="nx">initials</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="mi">64</span><span class="p">,</span>
    <span class="nx">colourIndex</span> <span class="o">=</span> <span class="nx">charIndex</span> <span class="o">%</span> <span class="mi">20</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"user-icon"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">"2d"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">canvasWidth</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">canvas</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"width"</span><span class="p">),</span>
    <span class="nx">canvasHeight</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">canvas</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"height"</span><span class="p">),</span>
    <span class="nx">canvasCssWidth</span> <span class="o">=</span> <span class="nx">canvasWidth</span><span class="p">,</span>
    <span class="nx">canvasCssHeight</span> <span class="o">=</span> <span class="nx">canvasHeight</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">devicePixelRatio</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">canvas</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"width"</span><span class="p">,</span> <span class="nx">canvasWidth</span> <span class="o">*</span> <span class="nb">window</span><span class="p">.</span><span class="nx">devicePixelRatio</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">canvas</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"height"</span><span class="p">,</span> <span class="nx">canvasHeight</span> <span class="o">*</span> <span class="nb">window</span><span class="p">.</span><span class="nx">devicePixelRatio</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">canvas</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"width"</span><span class="p">,</span> <span class="nx">canvasCssWidth</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">canvas</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"height"</span><span class="p">,</span> <span class="nx">canvasCssHeight</span><span class="p">);</span>
    <span class="nx">context</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">devicePixelRatio</span><span class="p">,</span> <span class="nb">window</span><span class="p">.</span><span class="nx">devicePixelRatio</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">context</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">colours</span><span class="p">[</span><span class="nx">colourIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">fillRect</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">font</span> <span class="o">=</span> <span class="s2">"128px Arial"</span><span class="p">;</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">textAlign</span> <span class="o">=</span> <span class="s2">"center"</span><span class="p">;</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"#FFF"</span><span class="p">;</span>
<span class="nx">context</span><span class="p">.</span><span class="nx">fillText</span><span class="p">(</span><span class="nx">initials</span><span class="p">,</span> <span class="nx">canvasCssWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">canvasCssHeight</span> <span class="o">/</span> <span class="mf">1.5</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="mvc-implimentation">MVC Implimentation</h2>

<h3 id="image-tag-changes-for-mvc">Image tag changes for MVC</h3>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;img</span> <span class="na">itemprop=</span><span class="s">"image"</span> <span class="na">avatar=</span><span class="s">"@comment.Author"</span> <span class="na">alt=</span><span class="s">"@comment.Author"</span> <span class="na">class=</span><span class="s">"comments-media-object"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<h3 id="my-script-changes-for-mvc">My Script Changes for MVC</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">LetterAvatar</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">size</span><span class="p">)</span> <span class="p">{</span>

            <span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">''</span><span class="p">;</span>
            <span class="nx">size</span> <span class="o">=</span> <span class="nx">size</span> <span class="o">||</span> <span class="mi">60</span><span class="p">;</span>

            <span class="kd">var</span> <span class="nx">colours</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="s2">"#1abc9c"</span><span class="p">,</span> <span class="s2">"#2ecc71"</span><span class="p">,</span> <span class="s2">"#3498db"</span><span class="p">,</span> <span class="s2">"#9b59b6"</span><span class="p">,</span> <span class="s2">"#34495e"</span><span class="p">,</span> <span class="s2">"#16a085"</span><span class="p">,</span> <span class="s2">"#27ae60"</span><span class="p">,</span> <span class="s2">"#2980b9"</span><span class="p">,</span> <span class="s2">"#8e44ad"</span><span class="p">,</span> <span class="s2">"#2c3e50"</span><span class="p">,</span>
                    <span class="s2">"#f1c40f"</span><span class="p">,</span> <span class="s2">"#e67e22"</span><span class="p">,</span> <span class="s2">"#e74c3c"</span><span class="p">,</span> <span class="s2">"#ecf0f1"</span><span class="p">,</span> <span class="s2">"#95a5a6"</span><span class="p">,</span> <span class="s2">"#f39c12"</span><span class="p">,</span> <span class="s2">"#d35400"</span><span class="p">,</span> <span class="s2">"#c0392b"</span><span class="p">,</span> <span class="s2">"#bdc3c7"</span><span class="p">,</span> <span class="s2">"#7f8c8d"</span>
            <span class="p">],</span>

                <span class="nx">nameSplit</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="nx">name</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">),</span>
                <span class="nx">initials</span><span class="p">,</span> <span class="nx">charIndex</span><span class="p">,</span> <span class="nx">colourIndex</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">dataURI</span><span class="p">;</span>


            <span class="k">if</span> <span class="p">(</span><span class="nx">nameSplit</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">initials</span> <span class="o">=</span> <span class="nx">nameSplit</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">?</span> <span class="nx">nameSplit</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">:</span> <span class="s1">'?'</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">initials</span> <span class="o">=</span> <span class="nx">nameSplit</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="nx">nameSplit</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">w</span><span class="p">.</span><span class="nx">devicePixelRatio</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">size</span> <span class="o">=</span> <span class="p">(</span><span class="nx">size</span> <span class="o">*</span> <span class="nx">w</span><span class="p">.</span><span class="nx">devicePixelRatio</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="nx">charIndex</span> <span class="o">=</span> <span class="p">(</span><span class="nx">initials</span> <span class="o">==</span> <span class="s1">'?'</span> <span class="p">?</span> <span class="mi">72</span> <span class="p">:</span> <span class="nx">initials</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">-</span> <span class="mi">64</span><span class="p">;</span>
            <span class="nx">colourIndex</span> <span class="o">=</span> <span class="nx">charIndex</span> <span class="o">%</span> <span class="mi">20</span><span class="p">;</span>
            <span class="nx">canvas</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'canvas'</span><span class="p">);</span>
            <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">size</span><span class="p">;</span>
            <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">size</span><span class="p">;</span>
            <span class="nx">context</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">"2d"</span><span class="p">);</span>

            <span class="nx">context</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">colours</span><span class="p">[</span><span class="nx">colourIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
            <span class="nx">context</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
            <span class="nx">context</span><span class="p">.</span><span class="nx">font</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"px Arial"</span><span class="p">;</span>
            <span class="nx">context</span><span class="p">.</span><span class="nx">textAlign</span> <span class="o">=</span> <span class="s2">"center"</span><span class="p">;</span>
            <span class="nx">context</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"#FFF"</span><span class="p">;</span>
            <span class="nx">context</span><span class="p">.</span><span class="nx">fillText</span><span class="p">(</span><span class="nx">initials</span><span class="p">,</span> <span class="nx">size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">size</span> <span class="o">/</span> <span class="mf">1.5</span><span class="p">);</span>

            <span class="nx">dataURI</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">toDataURL</span><span class="p">();</span>
            <span class="nx">canvas</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

            <span class="k">return</span> <span class="nx">dataURI</span><span class="p">;</span>
        <span class="p">},</span>

        <span class="nx">LetterAvatar</span><span class="p">.</span><span class="nx">transform</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

            <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">'img[avatar]'</span><span class="p">),</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">img</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">name</span> <span class="o">=</span> <span class="nx">img</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">'avatar'</span><span class="p">);</span>
                <span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">LetterAvatar</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">img</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">'width'</span><span class="p">));</span>
                <span class="nx">img</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="s1">'avatar'</span><span class="p">);</span>
                <span class="nx">img</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'alt'</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
            <span class="p">});</span>
        <span class="p">};</span>

        <span class="c1">// AMD support</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">define</span> <span class="o">===</span> <span class="s1">'function'</span> <span class="o">&amp;&amp;</span> <span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="p">)</span> <span class="p">{</span>

            <span class="nx">define</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">LetterAvatar</span><span class="p">;</span> <span class="p">});</span>

            <span class="c1">// CommonJS and Node.js module support.</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">exports</span> <span class="o">!==</span> <span class="s1">'undefined'</span><span class="p">)</span> <span class="p">{</span>

            <span class="c1">// Support Node.js specific `module.exports` (which can be a function)</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">module</span> <span class="o">!=</span> <span class="s1">'undefined'</span> <span class="o">&amp;&amp;</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">exports</span> <span class="o">=</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">LetterAvatar</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="c1">// But always support CommonJS module 1.1.1 spec (`exports` cannot be a function)</span>
            <span class="nx">exports</span><span class="p">.</span><span class="nx">LetterAvatar</span> <span class="o">=</span> <span class="nx">LetterAvatar</span><span class="p">;</span>

        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

            <span class="nb">window</span><span class="p">.</span><span class="nx">LetterAvatar</span> <span class="o">=</span> <span class="nx">LetterAvatar</span><span class="p">;</span>

            <span class="nx">d</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'DOMContentLoaded'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">LetterAvatar</span><span class="p">.</span><span class="nx">transform</span><span class="p">();</span>
            <span class="p">});</span>
        <span class="p">}</span>

    <span class="p">})(</span><span class="nb">window</span><span class="p">,</span> <span class="nb">document</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="liquid-conversion">Liquid Conversion</h2>

<p>Lets take a look a Minimal Mistakes post on Staticman Comments, at <a href="https://mademistakes.com/articles/improving-jekyll-static-comments/">Improving Jekyll Staticman Comments</a></p>

<p>The comments include form in: _includes/comment.html, line 8</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>8 <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"/assets/images/avatar-60.png"</span> <span class="na">srcset=</span><span class="s">"/assets/images/avatar-120.png 2x"</span> <span class="na">alt=</span><span class="s">""</span><span class="nt">&gt;</span>
</code></pre></div></div>

<h3 id="image-changes">Image changes</h3>

<p>Modifying the Image link From:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>8 <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"/assets/images/avatar-60.png"</span> <span class="na">srcset=</span><span class="s">"/assets/images/avatar-120.png 2x; 
</span></code></pre></div></div>
<p>Changed To: Letter Avatar</p>

<p>Removed src=”…” and srcset=”…”</p>

<p>Added</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>avatar="include.name | escape" class="avatar" alt="include.name | escape"
</code></pre></div></div>
<p>Then the link to the Gravatar image you have to change for yur own genertic image, orLetter Avatar generated.</p>

<p>As discribed at <a href="https://stackoverflow.com/questions/2683803/gravatar-is-there-a-default-image">Stack Overflow</a></p>

<p>I will Change Line 6</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"https://www.gravatar.com/avatar/?d=mm&amp;s=60"</span> <span class="na">srcset=</span><span class="s">"https://www.gravatar.com/avatar/?d=mm&amp;s=120 2x"</span> <span class="na">alt=</span><span class="s">""</span><span class="nt">&gt;</span>
</code></pre></div></div>
<p>From:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>?d=mm<span class="err">&amp;</span>s=60 
and also 
?d=mm<span class="err">&amp;</span>s=120 2x
</code></pre></div></div>
<p>To nothing for fallback image in gravatar links, then it falls back to</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"https://www.gravatar.com/avatar/?d=avatar"</span> <span class="na">srcset=</span><span class="s">"https://www.gravatar.com/avatar/?d=avatar=120 2x"</span> <span class="na">alt=</span><span class="s">""</span><span class="nt">&gt;</span>
% else %
    <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"avatar"</span> <span class="na">avatar=</span><span class="s">""</span> <span class="na">alt=</span><span class="s">""</span> <span class="nt">/&gt;</span>
% endif %
</code></pre></div></div>

<h3 id="add-avatarjs">Add avatar.js</h3>

<p>Adding the modified MVC Letter Avatar.js to my /assets/js/avatar.js.</p>

<p>Link to it in scripts.html</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://localhost:4000/assets/js/avatar.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>
<p>Or in a mardown page as.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>footer:
  - /assets/js/avatar.js
</code></pre></div></div>
<h3 id="adding-scripts-site-wide-in-_configyaml">Adding Scripts Site wide in _config.yaml</h3>

<p>To add scripts to the &lt;head&gt; or closing &lt;/body&gt; elements by adding paths to following arrays in _config.yml.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">head_scripts</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">https://code.jquery.com/jquery-3.3.1.min.js</span>
  <span class="pi">-</span> <span class="s">/assets/js/your-custom-head-script.js</span>

<span class="na">footer_scripts</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">/assets/js/your-custom-footer-script.js</span>
</code></pre></div></div>

<p>Then create avatar.scss and register the avatar.scss file in minimal-mistakes.scss, for width, height and rounded images.</p>

<figure class="third ">
  
    
      <a href="http://localhost:4000/assets/images/pages/gravatar-icon-600.jpeg">
        <img src="http://localhost:4000/assets/images/pages/gravatar-icon-256.jpg" alt="Gravtar Image" />
      </a>
    
  
    
      <a href="http://localhost:4000/assets/images/pages/avatar-600.png">
        <img src="http://localhost:4000/assets/images/pages/avatar-225.png" alt="Gravtar Generic Image" />
      </a>
    
  
    
      <a href="http://localhost:4000/assets/images/pages/myLetterAvatar-600.png">
        <img src="http://localhost:4000/assets/images/pages/myLetterAvatar-225.png" alt="Letter Avatar" />
      </a>
    
  
  
    <figcaption>Gravtar, Avatar, Letter Avatar.
</figcaption>
  
</figure>

<h2 id="pre-implementation-comments">Pre implementation comments.</h2>

<p>If your reading this before I get Staticman working. I need to see if this is really works or not.
Use disqus below to comment or add ideas to this conception.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><svg class="icon icon--tag" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-tag"></use></svg> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#gravatar" class="page__taxonomy-item" rel="tag">Gravatar</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#letter-avatar" class="page__taxonomy-item" rel="tag">Letter Avatar</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#mmistakes" class="page__taxonomy-item" rel="tag">MMistakes</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#staticman" class="page__taxonomy-item" rel="tag">Staticman</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="http://localhost:4000/categories/#programing" class="page__taxonomy-item" rel="tag">Programing</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><svg class="icon icon--calendar-alt" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-calendar-alt"></use></svg> Updated:</strong> <time datetime="2018-02-28">February 28, 2018</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=donboulton&text=Letter+Avatar%20http%3A%2F%2Flocalhost%3A4000%2F2018-02-22-post-Letter-Avatar%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"> <svg class="icon icon--twitter"><use xlink:href="/assets/icons/icons.svg#icon-twitter"></use></svg><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2018-02-22-post-Letter-Avatar%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"> <svg class="icon icon--facebook"><use xlink:href="/assets/icons/icons.svg#icon-facebook"></use></svg><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=http%3A%2F%2Flocalhost%3A4000%2F2018-02-22-post-Letter-Avatar%2F" class="btn btn--google-plus" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Google Plus"><svg class="icon icon--google-plus"><use xlink:href="/assets/icons/icons.svg#icon-google-plus"></use></svg><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2F2018-02-22-post-Letter-Avatar%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"> <svg class="icon icon--linkedin"><use xlink:href="/assets/icons/icons.svg#icon-linkedin"></use></svg><span> LinkedIn</span></a>
</section>


      


<nav class="pager">
  <ul>
    
    <li>
      <a href="/posts/2017-01-02-post-reviews-external/" class="previous">
        <span class="pager-title">
          <svg class="icon icon--back-arrow" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-back-arrow"></use></svg>
          Reviews

        </span>
      </a>
    </li>
    
    
    <li>
      <a href="/posts/2018-02-23-post-SQL-Fragmentation/" class="next">
        <span class="pager-title">
          SQL Fragmentation

          <svg class="icon icon--arrow-right" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-arrow-right"></use></svg>
        </span>
      </a>
    </li>
    
  </ul>
</nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/posts/2018-03-05-post-Staticman-with-Gitlab/" rel="permalink">Staticman with Gitlab
</a>
            
    </h2>
    
    
    <div class="entry-meta archive-right">
    
        <span class="byline-item"><svg class="icon icon-calendar-alt" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm116 204c0-6.6-5.4-12-12-12H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40zm0-128c0-6.6-5.4-12-12-12H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40zm128 128c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40zm0-128c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40zm128 128c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40zm0-128c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40z"></path></svg><time class="entry-time" datetime="2018-03-05T17:16:01-05:00">March 5, 2018</time></span>
    
    
        <span class="byline-item"><svg class="icon icon--stopwatch" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>




  less 1 minute read
</span>
    
    
    </div>
    <div class="entry-excerpt">
    <p class="archive__item-excerpt" itemprop="description">Use Staticman push to Gitlab
</p>
    </div>
  </article>
</div>
        
      </div>
    </div>
  
  
</div>

  </div>

  
  <div class="search-content">
    <div class="search-content__inner-wrap"><input type="text" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
    <div id="results" class="results"></div></div>
  </div>
  
  <div class="text-center">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-7655495105068461"
         data-ad-slot="5601054893"
         data-ad-format="auto"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  <div class="page__footer">
    <footer>
      <div class='scrolltop'>
  <a href="#top"><div class='scroll'><svg class="icon icon--chevron-up" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#chevron-up"></use></svg></div></a>
</div>
      <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/donboulton" target="_blank"><svg class="icon icon--twitter fa-twitter" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-twitter"></use></svg> Twitter</a></li>
    
    
      <li><a href="https://join.slack.com/t/mansbooks/signup" target="_blank"><svg class="icon icon--slack fa-slack" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-slack"></use></svg> Slack</a></li>
    
    
      <li><a href="https://github.com/donaldboulton" target="_blank"><svg class="icon icon--github fa-github" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-github"></use></svg> GitHub</a></li>
    
    
    <li><a href="http://localhost:4000/feed.xml"> <svg class="icon icon--rss fa-rss" width="16px" height="16px"><use xlink:href="/assets/icons/icons.svg#icon-rss"></use></svg> Feed</a></li>
  </ul>
</div>
<div class="page__footer-copyright">&copy; 2018 Donald W. Boulton. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a><a class="text-right align-right" href="/terms">Terms & Privacy Policy</a></div>

      <article class="modal">
  <div class="title">
    <h2 class="js-modal-title"></h2>
  </div>
  <div class="js-modal-text"></div>
  <div class="js-modal-content">
    <button class="btn btn--primary">Close</button>
  </div>
</article>
    </footer>
  </div>

  
<script src="http://localhost:4000/assets/js/main.min.js"></script>




<script src="http://localhost:4000/assets/js/lunr/lunr.min.js"></script>
<script src="http://localhost:4000/assets/js/lunr/lunr-store.js"></script>
<script src="http://localhost:4000/assets/js/lunr/lunr-en.js"></script>










    
  <script>
    (function ($) {
    var $comments = $('.js-comments');

    $('#new_comment').submit(function () {
      var form = this;

      $(form).addClass('disabled');
      $('#comment-form-submit').html('<i class="fas fa-spinner fa-spin fa-fw"></i> Loading...');

      $.ajax({
        type: $(this).attr('method'),
        url: $(this).attr('action'),
        data: $(this).serialize(),
        contentType: 'application/x-www-form-urlencoded',
        success: function (data) {
          $('#comment-form-submit').html('Submitted');
          $('.page__comments-form .js-notice').removeClass('notice--danger');
          $('.page__comments-form .js-notice').addClass('notice--success');
          showAlert('Thanks for your comment! It will show on the site once it has been approved.');
        },
        error: function (err) {
          console.log(err);
          $('#comment-form-submit').html('Submit Comment');
          $('.page__comments-form .js-notice').removeClass('notice--success');
          $('.page__comments-form .js-notice').addClass('notice--danger');
          showAlert('Sorry, there was an error with your submission. Please make sure all required fields have been completed and try again.');
          $(form).removeClass('disabled');
        }
      });

      return false;
    });

    function showAlert(message) {
      $('.page__comments-form .js-notice').removeClass('hidden');
      $('.page__comments-form .js-notice-text').html(message);
    }
    })(jQuery);
    // Staticman comment replies
    // modified from Wordpress https://core.svn.wordpress.org/trunk/wp-includes/js/comment-reply.js
    // Released under the GNU General Public License - https://wordpress.org/about/gpl/
    var addComment = {
      moveForm: function (commId, parentId, respondId, postId) {
        var div,
          element,
          style,
          cssHidden,
          t = this,
          comm = t.I(commId),
          respond = t.I(respondId),
          cancel = t.I("cancel-comment-reply-link"),
          parent = t.I("comment-replying-to"),
          post = t.I("comment-post-slug"),
          commentForm = respond.getElementsByTagName("form")[0];

        if (!comm || !respond || !cancel || !parent || !commentForm) {
          return;
        }

        t.respondId = respondId;
        postId = postId || false;

        if (!t.I("sm-temp-form-div")) {
          div = document.createElement("div");
          div.id = "sm-temp-form-div";
          div.style.display = "none";
          respond.parentNode.insertBefore(div, respond);
        }

        comm.parentNode.insertBefore(respond, comm.nextSibling);
        if (post && postId) {
          post.value = postId;
        }
        parent.value = parentId;
        cancel.style.display = "";

        cancel.onclick = function () {
          var t = addComment,
            temp = t.I("sm-temp-form-div"),
            respond = t.I(t.respondId);

          if (!temp || !respond) {
            return;
          }

          t.I("comment-replying-to").value = null;
          temp.parentNode.insertBefore(respond, temp);
          temp.parentNode.removeChild(temp);
          this.style.display = "none";
          this.onclick = null;
          return false;
        };

        /*
         * Set initial focus to the first form focusable element.
         * Try/catch used just to avoid errors in IE 7- which return visibility
         * 'inherit' when the visibility value is inherited from an ancestor.
         */
        try {
          for (var i = 0; i < commentForm.elements.length; i++) {
            element = commentForm.elements[i];
            cssHidden = false;

            // Modern browsers.
            if ("getComputedStyle" in window) {
              style = window.getComputedStyle(element);
              // IE 8.
            } else if (document.documentElement.currentStyle) {
              style = element.currentStyle;
            }

            /*
             * For display none, do the same thing jQuery does. For visibility,
             * check the element computed style since browsers are already doing
             * the job for us. In fact, the visibility computed style is the actual
             * computed value and already takes into account the element ancestors.
             */
            if (
              (element.offsetWidth <= 0 && element.offsetHeight <= 0) ||
              style.visibility === "hidden"
            ) {
              cssHidden = true;
            }

            // Skip form elements that are hidden or disabled.
            if ("hidden" === element.type || element.disabled || cssHidden) {
              continue;
            }

            element.focus();
            // Stop after the first focusable element.
            break;
          }
        } catch (er) { }

        return false;
      },

      I: function (id) {
        return document.getElementById(id);
      }
    };
  </script>

  


</body>
</html>